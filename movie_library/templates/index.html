{% extends "layout.html" %}

{% block head_content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/movies.css') }}" />
{% endblock %}

{% block main_content %}

    {% if movies_data %}

              <div class="container">
                <div class="movie-grid">
                    {% for movie in movies_data %}
                    <div class="movie-card">
                        <a href="{{ url_for('pages.movie', _id=movie._id )}}">
                            <img src="{{ url_for('static', filename=movie.img_url) }}" alt="Movie pic" class="movie-poster">
                        </a>
                        <h2>{{ movie.title }}</h2>
                        <p>Director: {{ movie.director}}</p>
                        <p>Year: {{ movie.year }}</p>
                    </div>
                    {% endfor %}
                </div>
            </div>
        
    {% else %}
    <p class="table__empty">You haven't added any movies yet. <a href="{{ url_for('pages.add_movie') }}" class="link">Add one!</a></p>
    {% endif %}

    <a href="{{ url_for('pages.add_movie') }}" class="button button--add">
        <span>+</span>
    </a>

{% endblock %}
